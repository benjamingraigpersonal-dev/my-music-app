<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --tg-theme-bg: #1a1a1a;
            --tg-theme-text: #ffffff;
            --accent: #0088cc;
        }
        body {
            background: var(--tg-theme-bg);
            color: var(--tg-theme-text);
            font-family: 'Segoe UI', Roboto, sans-serif;
            margin: 0; padding: 15px;
            display: flex; flex-direction: column; align-items: center;
        }
        .header { width: 100%; text-align: left; margin-bottom: 20px; }
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px; width: 100%;
        }
        .track-card {
            background: #2c2c2c;
            border-radius: 15px;
            padding: 10px;
            text-align: center;
            transition: transform 0.2s;
        }
        .track-card:active { transform: scale(0.95); }
        .cover {
            width: 100%; aspect-ratio: 1;
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            border-radius: 10px; margin-bottom: 10px;
            display: flex; align-items: center; justify-content: center; font-size: 40px;
        }
        .title { font-size: 14px; font-weight: bold; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
        .artist { font-size: 12px; color: #aaa; }
        
        /* –°—Ç–∏–ª–∏ –ø–ª–µ–µ—Ä–∞ –≤–Ω–∏–∑—É */
        .player-bar {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: #222; border-top: 1px solid #333;
            padding: 10px; display: none; /* –°–∫—Ä—ã—Ç –ø–æ–∫–∞ –Ω–µ –≤—ã–±—Ä–∞–ª–∏ —Ç—Ä–µ–∫ */
        }
    </style>
</head>
<body>
    <div class="header">
        <h2>üéµ –ú–æ—è –ú–µ–¥–∏–∞—Ç–µ–∫–∞</h2>
    </div>

    <div class="grid" id="track-grid">
        </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand(); // –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ–∫–Ω–æ
        tg.MainButton.setText("–ó–ê–ö–†–´–¢–¨ –ü–õ–ï–ï–†").show();
        tg.MainButton.onClick(() => tg.close());

        // –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –∏–∑ —Ç–≤–æ–µ–≥–æ musiclist.json
        // –î–ª—è —Ç–µ—Å—Ç–∞ —Å–æ–∑–¥–∞–¥–∏–º –º–∞—Å—Å–∏–≤:
        const mockTracks = [
            {id: 1, title: "After Hours", artist: "The Weeknd"},
            {id: 2, title: "Starboy", artist: "The Weeknd"},
            {id: 3, title: "Blinding Lights", artist: "The Weeknd"}
        ];

        const grid = document.getElementById('track-grid');

        function renderTracks(tracks) {
            grid.innerHTML = '';
            tracks.forEach(track => {
                const card = document.createElement('div');
                card.className = 'track-card';
                card.innerHTML = `
                    <div class="cover">üéß</div>
                    <div class="title">${track.title}</div>
                    <div class="artist">${track.artist}</div>
                `;
                card.onclick = () => playTrack(track);
                grid.appendChild(card);
            });
        }

        function playTrack(track) {
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞—Ç–Ω–æ –±–æ—Ç—É, —á—Ç–æ–±—ã –æ–Ω –Ω–∞—á–∞–ª –∏–≥—Ä–∞—Ç—å –º—É–∑—ã–∫—É
            tg.sendData(JSON.stringify({
                action: "play",
                track_title: track.title
            }));
            tg.HapticFeedback.impactOccurred('medium');
        }

        renderTracks(mockTracks);
    </script>
</body>
</html>
